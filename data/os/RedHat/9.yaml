---
ssh::config_files:
  '/etc/ssh/ssh_config.d/50-redhat.conf':
    lines:
      Match: 'final all'
      Include: '/etc/crypto-policies/back-ends/openssh.config'
      GSSAPIAuthentication: 'yes'
      ForwardX11Trusted: 'yes'
ssh::manage_config_files: true
ssh::packages:
  - 'openssh-clients'
ssh::server::packages:
  - 'openssh-server'

ssh::include: '/etc/ssh/ssh_config.d/*.conf'

ssh::server::authorized_keys_file:
  - '.ssh/authorized_keys'
ssh::server::config_files:
  '/etc/ssh/sshd_config.d/50-redhat.conf':
    lines:
      Include: '/etc/crypto-policies/back-ends/opensshserver.config'
      SyslogFacility: 'AUTHPRIV'
      ChallengeResponseAuthentication: 'no'
      GSSAPIAuthentication: 'yes'
      GSSAPICleanupCredentials: 'no'
      UsePAM: 'yes'
      X11Forwarding: 'yes'
      PrintMotd: 'no'
ssh::server::manage_config_files: true
ssh::server::include: '/etc/ssh/sshd_config.d/*.conf'
ssh::server::subsystem: 'sftp /usr/libexec/openssh/sftp-server'

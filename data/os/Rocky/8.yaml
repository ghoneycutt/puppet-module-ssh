---
ssh::config_files:
  '/etc/ssh/ssh_config.d/05-redhat.conf':
    lines:
      Match: 'final all'
      Include: '/etc/crypto-policies/back-ends/openssh.config'
      GSSAPIAuthentication: 'yes'
      ForwardX11Trusted: 'yes'
      SendEnv: 'LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT LC_IDENTIFICATION LC_ALL LANGUAGE XMODIFIERS'
ssh::manage_config_files: true
ssh::packages:
  - 'openssh-clients'
ssh::server::packages:
  - 'openssh-server'

ssh::include: '/etc/ssh/ssh_config.d/*.conf'

ssh::server::accept_env:
  - 'LANG'
  - 'LC_CTYPE'
  - 'LC_NUMERIC'
  - 'LC_TIME'
  - 'LC_COLLATE'
  - 'LC_MONETARY'
  - 'LC_MESSAGES'
  - 'LC_PAPER'
  - 'LC_NAME'
  - 'LC_ADDRESS'
  - 'LC_TELEPHONE'
  - 'LC_MEASUREMENT'
  - 'LC_IDENTIFICATION'
  - 'LC_ALL LANGUAGE'
  - 'XMODIFIERS'
ssh::server::authorized_keys_file:
  - '.ssh/authorized_keys'
ssh::server::challenge_response_authentication: 'no'
ssh::server::gss_api_authentication: 'yes'
ssh::server::gss_api_cleanup_credentials: 'no'
ssh::server::host_key:
  - '/etc/ssh/ssh_host_ecdsa_key'
  - '/etc/ssh/ssh_host_ed25519_key'
  - '/etc/ssh/ssh_host_rsa_key'
ssh::server::password_authentication: 'yes'
ssh::server::print_motd: 'no'
ssh::server::subsystem: 'sftp /usr/libexec/openssh/sftp-server'
ssh::server::syslog_facility: 'AUTHPRIV'
ssh::server::use_pam: 'yes'
ssh::server::x11_forwarding: 'yes'
